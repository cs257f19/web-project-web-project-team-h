<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Sample Landlord Result Page</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='hostPage.css') }}">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
    integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
    crossorigin=""></script>
  </head>
<body>
    <header>
      <div class="tag">
        <a href = "{{ url_for('homePage') }}"><h1>Airbnb in NYC</h1></a>
        <div>
          <p>All you need to know about Airbnb in NYC</p>
        </div>
      </div>
      <nav>
        <a href="{{ url_for('dataPage') }}" class="change">About the Data</a>
        <a href="{{ url_for('overall') }}" class="change">Visualize Data</a>
        <a href="{{ url_for('hostSearch') }}" class="change active-page">For Hosts</a>
        <a href="#" class="change">Contact</a>
      </nav>
    </header>

    <section>
      <div class="clearfix">
        <h1 class="heading">Result</h1>
        <img class="pic" src="avatar.png" alt="avatar" width="150" height="150">
        <div class="user_info">
          <p>Host ID: {{ results[0].getHostId() }}</p>
          <p>Host name: {{ results[0].getHostName() }}</p>
        </div>

      </div>
    </section>

{% for result in results %}
    <section class="mapSection">
        <p>Number of Reviews: {{ result.getNumReviews() }}</p>
          <p>Review Per Month: {{ result.getReviewsPerMonth() }}</p>
      <h2>Houses in the same neighborhood with the same room type</h2>
    <div id="{{ result.getListingName() }}"  style=" height: 375px"></div>
    </section>

    <script>
       var mymap = L.map('{{ result.getListingName() }}').setView([40.640610, -73.975242], 13);
       L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiemhhbmdzMTIzIiwiYSI6ImNrMXR6NjZobzAweW0zY3BrcnB4YmF6M3YifQ.nHmNai_UTcEJdy1VTbCXfg', {
         attribution: '',
         maxZoom: 18,
         id: 'mapbox.streets',
         accessToken: 'your.mapbox.access.token'
       }).addTo(mymap);
       var locations = [["Clean & quiet apt home by the park", 40.64749, -73.97237],
       ["Large and Cozy Private Bedroom", 40.64106, -73.97426],
       ["SUPER BIG AND COZY PRIVATE BEDROOM", 40.64302, -73.97255],
       ["Private clean pleasant spacious room.", 40.64277, -73.97296],
       ["QUIET, SPACIOUS, COMFORTABLE, & GREAT LOCATION", 40.64573, -73.98013],
       ["Vintage Chic Haven in Kensington, Brooklyn", 40.63547, -73.97417],
       ["private spacious sunny bedroom", 40.63381, -73.9714],
       ["Cozy Retreat in Brooklyn Apartment", 40.6412, -73.9786],
       ["Welcome to Kensington", 40.63402, -73.97556],
       ["Two Porches & Private Room", 40.6413, -73.98233],
       ["Cozy rooms with private bath", 40.64487, -73.97895],
       ["Large 1 Bedroom apartment with office room.", 40.64449, -73.97238],
       ["Cozy Two-bedroom Apt in a Cute House in Brooklyn!", 40.6367, -73.97434],
       ["Private room for 2 in cool BK apt", 40.64469, -73.97086],
       ["Clean & Cozy Private Room", 40.63953, -73.97214],
       ["Oasis in Kensington", 40.64321, -73.98294],
       ["Welcome to Brooklyn!", 40.63694, -73.97487],
       ["Brooklyn Bargain for August!", 40.64455, -73.98298],
       ["BK Room Available 5/17-5/24", 40.64345, -73.98258],
       ["Brooklyn private room", 40.64423, -73.98224]
       ];
       var customPopup = "<p><strong>Name</strong></p><strong>Listing ID</strong><p>neigiboorhood</p>" +
           "<p>neighborhood group</p><p>room type</p>" +
           "<strong>price</strong></p>minimum night</p><p>revieus per month</p><p>Availability</p>";
       var arrLen = locations.length;
       for (var i = 0; i < locations.length; i++) {
           var marker = L.marker([locations[i][1],locations[i][2]]).addTo(mymap);
           marker.bindPopup(customPopup,customOptions).openPopup();
        }
        var marker = L.marker([51.5, -0.09]).addTo(mymap);
    </script>
{% endfor %}
</body>
</html>
